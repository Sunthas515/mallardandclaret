{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\callm\\\\OneDrive\\\\Documents\\\\GitHub\\\\mallardandclaret\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useState}from'react';import{Button,Input,Label}from'reactstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var rmCheck=document.getElementById(\"rememberMe\"),emailInput=document.getElementById(\"username\"),passwordInput=document.getElementById(\"password\");function IsRememberMe(){if(rmCheck.checked&&emailInput.value!==\"\"&&passwordInput.value!==\"\"){localStorage.username=emailInput.value;localStorage.password=passwordInput.value;localStorage.checkbox=rmCheck.value;console.log(\"Remember Me\");}else{localStorage.username=\"\";localStorage.password=\"\";localStorage.checkbox=\"\";}}function getUser(){return fetch('https://server.mallardandclaret.org/user/login',{method:\"POST\",headers:{accept:\"application/json\",\"Content-Type\":\"Application/json\"},body:JSON.stringify({username:username,password:password})}).then(function(res){return res.json();}).then(function(err){if(err.error){setError(err.message);throw new Error(err.message);}else{IsRememberMe();setError(\"Login successful\");localStorage.token=err.token;}}).catch(function(err){});}return/*#__PURE__*/_jsxs(\"div\",{className:\"Login\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"OutterForm\",style:{textAlign:'left',paddingLeft:'1%'},children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",href:\"/\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please enter your loginname and password below\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"InnerForm\",children:[/*#__PURE__*/_jsx(\"p\",{style:{paddingRight:'1px'},children:\"Loginname:\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"username\",id:\"username\",onChange:function onChange(e){return setUsername(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"InnerForm\",children:[/*#__PURE__*/_jsx(\"p\",{style:{paddingRight:'12px'},children:\"Password:\"}),/*#__PURE__*/_jsx(Input,{type:\"password\",name:\"password\",id:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"InnerForm\",style:{paddingTop:'1%'},children:[/*#__PURE__*/_jsx(Input,{type:\"checkbox\",value:\"IsRememberMe\",id:\"rememberMe\"}),/*#__PURE__*/_jsx(\"p\",{style:{paddingLeft:'1%'},children:\"Remember Me\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"InnerForm\",style:{paddingTop:'1%'},children:[/*#__PURE__*/_jsx(Button,{onClick:getUser,children:\"Login\"}),/*#__PURE__*/_jsx(Button,{href:\"mailto:mallardandclaret@gmail.com?subject=Member reset password&body=Member details here\",children:\"Reset\"}),/*#__PURE__*/_jsx(Label,{children:error})]}),/*#__PURE__*/_jsx(\"a\",{href:\"/forgot\",children:\"Forgotten your details?\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"RightButtons\",style:{paddingRight:'1%'},children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",href:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(Button,{color:\"secondary\",href:\"mailto:mallardandclaret@gmail.com?subject=Member Signup&body=Member details here\",children:\"Contact Us\"})]})]});}","map":{"version":3,"sources":["C:/Users/callm/OneDrive/Documents/GitHub/mallardandclaret/src/pages/Login.js"],"names":["React","useState","Button","Input","Label","Login","username","setUsername","password","setPassword","error","setError","rmCheck","document","getElementById","emailInput","passwordInput","IsRememberMe","checked","value","localStorage","checkbox","console","log","getUser","fetch","method","headers","accept","body","JSON","stringify","then","res","json","err","message","Error","token","catch","textAlign","paddingLeft","paddingRight","e","target","paddingTop"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport {Button, Input, Label} from 'reactstrap';\r\n\r\nexport default function Login() {\r\n    const [username, setUsername] = useState();\r\n    const [password, setPassword] = useState();\r\n    const [error, setError] = useState();\r\n\r\n    const rmCheck = document.getElementById(\"rememberMe\"),\r\n        emailInput = document.getElementById(\"username\"),\r\n        passwordInput = document.getElementById(\"password\");\r\n\r\n    function IsRememberMe() {\r\n        if (rmCheck.checked && emailInput.value !== \"\" && passwordInput.value !== \"\") {\r\n            localStorage.username = emailInput.value;\r\n            localStorage.password = passwordInput.value;\r\n            localStorage.checkbox = rmCheck.value;\r\n            console.log(\"Remember Me\");\r\n        } else {\r\n            localStorage.username = \"\";\r\n            localStorage.password = \"\";\r\n            localStorage.checkbox = \"\";\r\n        }\r\n    }\r\n\r\n\r\n    function getUser() {\r\n        return fetch('https://server.mallardandclaret.org/user/login', {\r\n            method: \"POST\",\r\n            headers: { accept: \"application/json\", \"Content-Type\": \"Application/json\" },\r\n            body: JSON.stringify({ username: username, password: password})\r\n        })\r\n        .then((res) => res.json())\r\n        .then((err) => {\r\n            if (err.error) { setError(err.message); throw new Error(err.message) }\r\n            else {\r\n                IsRememberMe()\r\n                setError(\"Login successful\")\r\n                localStorage.token = err.token\r\n            }\r\n        })\r\n        .catch(err => {\r\n\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"Login\">\r\n            <div className=\"OutterForm\" style={{textAlign:'left', paddingLeft:'1%'}}>\r\n                <Button color=\"secondary\" href=\"/\">Cancel</Button>\r\n                <h1>Login</h1>\r\n                <p>Please enter your loginname and password below</p>\r\n                <div className=\"InnerForm\">\r\n                    <p style={{paddingRight:'1px'}}>Loginname:</p>\r\n                    <Input type=\"text\" name=\"username\" id=\"username\" onChange={e => setUsername(e.target.value)}/>\r\n                </div>\r\n                <div className=\"InnerForm\">\r\n                    <p style={{paddingRight:'12px'}}>Password:</p>\r\n                    <Input type=\"password\" name=\"password\" id=\"password\" onChange={e => setPassword(e.target.value)} />\r\n                </div>\r\n                <div className=\"InnerForm\" style={{paddingTop:'1%'}}>\r\n                    <Input type=\"checkbox\" value=\"IsRememberMe\" id=\"rememberMe\"/>\r\n                    <p style={{paddingLeft:'1%'}}>Remember Me</p>\r\n                </div>\r\n                <div className=\"InnerForm\" style={{paddingTop:'1%'}}>\r\n                    <Button onClick={getUser}>Login</Button>\r\n                    <Button href=\"mailto:mallardandclaret@gmail.com?subject=Member reset password&body=Member details here\">Reset</Button>\r\n                    <Label>{error}</Label>\r\n                </div>\r\n                <a href=\"/forgot\">Forgotten your details?</a>\r\n            </div>\r\n            <div className=\"RightButtons\" style={{paddingRight:'1%'}}>\r\n                <Button color=\"secondary\" href=\"/login\">Login</Button>\r\n                <Button color=\"secondary\" href=\"mailto:mallardandclaret@gmail.com?subject=Member Signup&body=Member details here\">Contact Us</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}